<div class="border-2 rounded-lg p-4
  <%= case path.color
      when 'red' then 'border-red-500 bg-red-50'
      when 'blue' then 'border-blue-500 bg-blue-50'
      when 'green' then 'border-green-500 bg-green-50'
      when 'yellow' then 'border-yellow-500 bg-yellow-50'
      when 'purple' then 'border-purple-500 bg-purple-50'
      end %>">
  <div class="flex justify-between items-center mb-2">
    <div class="text-lg font-bold capitalize">
      <%= path.color %> Path
      <% if path.color == 'yellow' && path.cards.length >= 1 %>
        <span class="ml-2 text-xs px-2 py-1 bg-yellow-200 text-yellow-800 rounded font-bold">COMPLETE</span>
      <% end %>
    </div>
    <div class="text-xl font-bold">
      <%= path.cards.length %> cards = <%= path.score %> pts
    </div>
  </div>

  <!-- Issue #6: Scoring preview -->
  <div class="text-sm text-gray-700 mb-1 font-medium">
    <% next_card_count = path.cards.length + 1 %>
    <% next_score = next_card_count ** 2 %>
    <% score_gain = next_score - path.score %>
    <% if path.color == 'yellow' && path.cards.length >= 1 %>
      <span class="text-yellow-700">Cannot add more cards to Yellow path</span>
    <% else %>
      Add card: <%= path.cards.length %>→<%= next_card_count %> cards = <%= path.score %>→<%= next_score %> pts
      <span class="text-green-600 font-bold">(+<%= score_gain %>)</span>
    <% end %>
  </div>

  <!-- Issue #5: Valid next plays hint -->
  <div class="text-sm mb-3 px-2 py-1 bg-white bg-opacity-70 rounded border
    <%= case path.color
        when 'red' then 'border-red-300 text-red-800'
        when 'blue' then 'border-blue-300 text-blue-800'
        when 'green' then 'border-green-300 text-green-800'
        when 'yellow' then 'border-yellow-300 text-yellow-800'
        when 'purple' then 'border-purple-300 text-purple-800'
        end %>">
    <span class="font-semibold">Valid plays:</span> <%= path.next_play_hint %>
  </div>

  <div class="flex flex-wrap gap-2">
    <% path.cards.each do |card| %>
      <div class="w-16 h-20 rounded-lg border-2 flex flex-col items-center justify-center bg-white
        <%= case card['color']
            when 'red' then 'border-red-500 text-red-600'
            when 'blue' then 'border-blue-500 text-blue-600'
            when 'green' then 'border-green-500 text-green-600'
            when 'yellow' then 'border-yellow-500 text-yellow-600'
            when 'purple' then 'border-purple-500 text-purple-600'
            end %>">
        <div class="text-3xl font-bold"><%= card['number'] %></div>
      </div>
    <% end %>
  </div>
</div>
